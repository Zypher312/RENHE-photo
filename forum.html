<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>小论坛</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    .hidden{display:none!important;}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0;}
    .tab{padding:6px 10px;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer}
    .tab.active{border-color:#111;font-weight:700}
    .panel{border:1px solid #eee;border-radius:12px;padding:12px;margin-top:10px;background:#fff}
    .msgs{height:360px;overflow:auto;border:1px solid #eee;border-radius:10px;padding:10px;background:#fafafa}
    .msg-item{padding:8px 10px;border-radius:10px;background:#fff;border:1px solid #eee;margin:8px 0}
    .msg-meta{font-size:12px;opacity:.7;margin-bottom:6px}
    textarea{width:100%;min-height:88px}
  </style>
</head>

<body>
  <div class="container">
    <div class="nav muted small" style="margin:10px 0;">
      <a href="index.html">首页</a> |
      <a href="gallery.html">画廊</a> |
      <a href="upload.html">投稿/上传</a> |
      <a href="forum.html"><b>小论坛</b></a> |
      <a href="admin.html">审核后台</a>
    </div>

    <h1>小论坛</h1>
    <div class="muted small">输入“通行证”后才能进入。只支持发文字（含 emoji/颜文字）。</div>

    <!-- 登录卡片 -->
    <div id="loginCard" class="panel">
      <div class="row" style="gap:10px;align-items:center;">
        <div style="flex:1;min-width:240px;">
          <div class="small muted">通行证</div>
          <input id="passcode" type="password" placeholder="请输入统一通行证" />
        </div>
        <button id="btnEnter" class="btn btn-ok" type="button">进入论坛</button>
      </div>
      <div id="loginMsg" class="msg muted small" style="margin-top:8px;"></div>
    </div>

    <!-- 论坛卡片（默认隐藏） -->
    <div id="forumCard" class="panel hidden">
      <div class="row" style="gap:10px;align-items:center;flex-wrap:wrap;">
        <div>
          <div class="small muted">昵称（可选）</div>
          <input id="nickname" type="text" placeholder="比如：Zypher" style="width:180px;" />
        </div>
        <div>
          <div class="small muted">日期</div>
          <input id="day" type="date" />
        </div>
        <div style="flex:1"></div>
        <button id="btnReload" class="btn btn-outline" type="button">刷新</button>
        <button id="btnLogout" class="btn btn-bad" type="button">退出</button>
      </div>

      <div class="tabs" id="tabs"></div>

      <div id="status" class="msg muted small">加载中…</div>
      <div class="msgs" id="msgs"></div>

      <div style="margin-top:10px;">
        <div class="small muted" style="margin-bottom:6px;">发言（最多 500 字）</div>
        <textarea id="content" placeholder="说点什么…"></textarea>
        <div class="row" style="margin-top:8px;align-items:center;">
          <div class="muted small" id="hint"></div>
          <div style="flex:1"></div>
          <button id="btnSend" class="btn btn-ok" type="button">发送</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/forum.js"></script>
</body>
</html>
